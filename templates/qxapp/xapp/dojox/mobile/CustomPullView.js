//>>built
define("dojox/mobile/CustomPullView","dojo/_base/declare,dojo/_base/sniff,dojo/dom,dojo/dom-construct,dojo/dom-style,dojo/topic,./ProgressIndicator,./PullView,require".split(","),function(e,i,j,a,k,l,f,g,h){return e("dojox.mobile.CustomPullView",g,{type:"refresh",icon:h.toUrl("./themes/common/images/refresh-arrow.png"),_messages:{loading:"Loading...",newItem:"Check for new items",moreItem:"Check for more items",pullDownToGoBack:"Pull down to go back",goBack:"Go back",pullUpToLoadMore:"Pull up to load more...",
releaseToLoadMore:"Release to load more...",pullDownToRefresh:"Pull down to refresh...",releaseToRefresh:"Release to refresh..."},buildRendering:function(){if("back"==this.type)this.reveal=!1;else if("more"==this.type)this.pullDir="up";this.inherited(arguments);this.pullBoxNode=a.create("div",{className:"mblCustomPullViewPullBox"},this.containerNode,"first");"back"==this.type?(this.msg0Node=a.create("div",{className:"mblCustomPullViewMsg0"},this.pullBoxNode),this.knobWrapperNode=a.create("div",{className:"mblCustomPullViewKnobWrapper"},
this.pullBoxNode),this.knobNode=a.create("div",{className:"mblCustomPullViewKnob"},this.knobWrapperNode)):(this.progNode=a.create("div",{className:"mblCustomPullViewProg"},this.pullBoxNode),this.imgNode=a.create("img",{className:"mblCustomPullViewIcon",src:this.icon},this.pullBoxNode),this.msg1Node=a.create("div",{className:"mblCustomPullViewMsg1"},this.pullBoxNode),this.msg2Node=a.create("div",{className:"mblCustomPullViewMsg2",innerHTML:this._messages["up"==this.pullDir?"moreItem":"newItem"]},this.pullBoxNode))},
_rotate:function(a){this.imgNode.style.webkitTransform="rotate("+a+"deg)"},_onPull:function(a,d,c){var b;"back"==this.type?(d=d>c?c:d,b=Math.round(100*(d/c)),this.knobNode.style.left=100-b+"px",this.msg0Node.innerHTML=this._messages[d<c?"pullDownToGoBack":"goBack"]):"up"==this.pullDir?(b=a.bottomPos(),b=100*((d<=b-c?c:b-d)/c),this._rotate(-1.8*b+180),this.msg1Node.innerHTML=this._messages[100>b?"pullUpToLoadMore":"releaseToLoadMore"]):(b=100*((d>c?c:d)/c),this._rotate(-1.8*b+360),this.msg1Node.innerHTML=
this._messages[100>b?"pullDownToRefresh":"releaseToRefresh"]);this.inherited(arguments)},_onPulled:function(a){if("back"!=this.type){if(!this._prog)this._prog=new f({size:20,center:!1});if(this.isBusy())return;this.imgNode.style.visibility="hidden";this.msg1Node.innerHTML=this._messages.loading;this.progNode.appendChild(this._prog.domNode);this._prog.start()}this.inherited(arguments)},isBusy:function(){return!(!this._prog||!this._prog.timer)},closeMessageBox:function(){if(this.isBusy())"down"==this.pullDir&&
this.slideTo({y:0},0.3,"ease-out"),this._prog.stop(),this.imgNode.style.visibility="visible"}})});